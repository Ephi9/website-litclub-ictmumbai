<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Literary Club | ICT Mumbai</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #3b82f6; --secondary: #1f2937; --background: #f8f7f4; }
        body { font-family: 'Inter', sans-serif; background-color: var(--background); color: var(--secondary); -webkit-font-smoothing: antialiased; }
        .font-serif { font-family: 'Playfair Display', serif; }
        .glass-nav { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); }
        .btn-primary { @apply bg-blue-600 text-white px-6 py-3 rounded-full font-semibold hover:bg-blue-700 transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1; }
        .card { @apply bg-white p-6 rounded-2xl shadow-sm border border-gray-200 transition-all duration-300; }
        .card:hover { @apply shadow-xl -translate-y-1; }
        .tag { @apply inline-block bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded-full; }
    </style>
</head>
<body>
    <header class="fixed top-0 left-0 right-0 z-50 glass-nav"><nav class="container mx-auto px-6 py-4 flex justify-between items-center"><a href="#" class="flex items-center space-x-3"><img src="Graphics/logos/litclublogo.svg" alt="LitClub Logo" class="h-10"><span class="text-2xl font-serif font-bold text-gray-800">LitClub ICT</span></a><div class="hidden md:flex items-center space-x-8"><a href="#home" class="text-gray-600 hover:text-blue-600">Home</a><a href="#activity" class="text-gray-600 hover:text-blue-600">Activity</a><a href="#community" class="text-gray-600 hover:text-blue-600">Community</a><a href="#team" class="text-gray-600 hover:text-blue-600">Team</a><a href="./subscribe.html" class="btn-primary">Join Us</a></div><button id="mobile-menu-btn" class="md:hidden text-gray-700"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg></button></nav><div id="mobile-menu" class="hidden md:hidden bg-white/90 backdrop-blur-sm"><a href="#home" class="block py-3 px-6 text-gray-700 hover:bg-blue-50">Home</a><a href="#activity" class="block py-3 px-6 text-gray-700 hover:bg-blue-50">Activity</a><a href="#community" class="block py-3 px-6 text-gray-700 hover:bg-blue-50">Community</a><a href="#team" class="block py-3 px-6 text-gray-700 hover:bg-blue-50">Team</a><a href="./subscribe.html" class="block m-4 text-center btn-primary">Join Us</a></div></header>

    <main>
        <section id="home" class="pt-32 pb-20 bg-white"><div class="container mx-auto px-6 grid lg:grid-cols-2 gap-12 items-center"><div class="text-center lg:text-left"><h1 class="text-5xl lg:text-7xl font-serif font-bold text-gray-900 leading-tight">Where stories connect and ideas flourish.</h1><p class="mt-6 text-lg text-gray-600 max-w-xl mx-auto lg:mx-0">Welcome to the Literary Club of ICT Mumbaiâ€”a vibrant community for those who live and breathe the written word.</p></div><div id="book-of-the-month-card" class="card text-center"></div></div></section>
        
        <section id="activity" class="py-20"><div class="container mx-auto px-6"><div class="text-center mb-12"><h2 class="text-4xl font-serif font-bold">What's Happening</h2><p class="text-gray-600 mt-2">Latest posts, upcoming events, and our community reading goal.</p></div><div class="grid lg:grid-cols-3 gap-8"><div id="blog-posts-section" class="lg:col-span-2 space-y-6"></div><div class="space-y-6"><div id="events-section" class="card"></div><div id="reading-challenge-section" class="card"></div></div></div></div></section>

        <section id="community" class="py-20 bg-white"><div class="container mx-auto px-6"><div class="text-center mb-12"><h2 class="text-4xl font-serif font-bold">Member's Corner</h2><p class="text-gray-600 mt-2">Celebrating the creative works of our talented members.</p></div><div id="submissions-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"></div></div></section>

        <section id="team" class="py-20"><div class="container mx-auto px-6"><div class="text-center mb-12"><h2 class="text-4xl font-serif font-bold">Our Core Team</h2><p class="text-gray-600 mt-2">The passionate individuals guiding our literary journey.</p></div><div id="team-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8"></div></div></section>
    </main>

    <footer class="bg-secondary text-gray-300 py-12"><div class="container mx-auto px-6 text-center"><p>&copy; 2025 The Literary Club, ICT Mumbai. All Rights Reserved.</p></div></footer>

    <script type="module">
        const firebaseConfig = { apiKey: "AIzaSyCOrX_vn5zupUn_OpXfvKeiDAUIY8Lz8LM", authDomain: "web-litclub-ict.firebaseapp.com", projectId: "web-litclub-ict", storageBucket: "web-litclub-ict.appspot.com", messagingSenderId: "868285777261", appId: "1:868285777261:web:27ddf25ce5c62bbdb68664" };
        
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.7/firebase-app.js";
        import { getFirestore, collection, query, orderBy, onSnapshot, where, limit, getDocs } from "https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore.js";

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        
        const renderHtml = (el, html) => { if(el) el.innerHTML = html; };

        const loadBookOfTheMonth = () => onSnapshot(query(collection(db, 'books'), where("isBookOfTheMonth", "==", true), limit(1)), (snapshot) => {
            const el = document.getElementById('book-of-the-month-card');
            if (snapshot.empty) { renderHtml(el, '<p>Book of the month coming soon!</p>'); return; }
            const book = snapshot.docs[0].data();
            renderHtml(el, `<img src="${book.imageUrl || 'https://placehold.co/300x450/e2e8f0/334155?text=Cover'}" alt="${book.title}" class="w-48 mx-auto rounded-lg shadow-2xl -mt-16 mb-4"><h3 class="text-2xl font-serif font-bold">${book.title}</h3><p class="text-gray-500 mb-4">by ${book.author}</p><p class="text-gray-600">${book.description || ''}</p><a href="#" class="mt-6 inline-block btn-primary">Join the Discussion</a>`);
        });

        const loadBlogPosts = () => onSnapshot(query(collection(db, 'blog'), orderBy('createdAt', 'desc'), limit(3)), (snapshot) => {
            const el = document.getElementById('blog-posts-section');
            let html = '<h3 class="text-2xl font-bold font-serif">From the Blog</h3>';
            if (snapshot.empty) html += '<div class="card"><p>No blog posts yet. Stay tuned!</p></div>';
            else snapshot.forEach(doc => {
                const post = doc.data();
                html += `<div class="card"><h4 class="font-bold text-xl">${post.title}</h4><p class="text-sm text-gray-500">Posted on ${post.createdAt.toDate().toLocaleDateString()}</p><p class="mt-2 text-gray-600">${post.excerpt}</p><a href="#" class="text-blue-600 font-semibold mt-4 inline-block">Read More &rarr;</a></div>`;
            });
            renderHtml(el, html);
        });

        const loadEvents = () => onSnapshot(query(collection(db, 'events'), where('date', '>=', new Date().toISOString().split('T')[0]), orderBy('date', 'asc'), limit(3)), (snapshot) => {
            const el = document.getElementById('events-section');
            let html = '<h3 class="text-2xl font-bold font-serif mb-4">Upcoming Events</h3>';
            if (snapshot.empty) html += '<p class="text-gray-500">No upcoming events scheduled.</p>';
            else snapshot.forEach(doc => {
                const event = doc.data();
                html += `<div class="mb-4 pb-4 border-b border-gray-200 last:border-b-0">
                    <p class="font-semibold">${event.title}</p>
                    <p class="text-sm text-gray-500">${new Date(event.date + 'T00:00:00').toLocaleDateString('en-US', { month: 'long', day: 'numeric' })}</p>
                </div>`;
            });
            renderHtml(el, html);
        });
        
        const loadReadingChallenge = () => onSnapshot(query(collection(db, 'challenges'), where("active", "==", true), limit(1)), (snapshot) => {
             const el = document.getElementById('reading-challenge-section');
             if (snapshot.empty) { renderHtml(el, ''); return; }
             const challenge = snapshot.docs[0].data();
             const progress = (challenge.current / challenge.goal) * 100;
             renderHtml(el, `<h3 class="text-2xl font-bold font-serif mb-4">${challenge.title}</h3>
                <p class="text-sm text-gray-500">Progress: <span class="font-bold">${challenge.current} / ${challenge.goal} books</span></p>
                <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2"><div class="bg-blue-600 h-2.5 rounded-full" style="width: ${progress}%"></div></div>`);
        });

        const loadSubmissions = () => onSnapshot(query(collection(db, 'submissions'), where("approved", "==", true), orderBy('createdAt', 'desc'), limit(3)), (snapshot) => {
            const el = document.getElementById('submissions-grid');
            if (snapshot.empty) { renderHtml(el, '<p class="text-center col-span-full">No member submissions yet. Be the first!</p>'); return; }
            let html = '';
            snapshot.forEach(doc => {
                const sub = doc.data();
                html += `<div class="card"><h4 class="font-bold">${sub.title}</h4><p class="text-sm text-gray-500">by ${sub.authorName}</p><p class="mt-2 text-gray-600 truncate">${sub.content}</p></div>`;
            });
            renderHtml(el, html);
        });

        const loadTeam = () => onSnapshot(query(collection(db, 'teamMembers'), orderBy('order', 'asc')), (snapshot) => {
            const el = document.getElementById('team-grid');
            if (snapshot.empty) { renderHtml(el, '<p class="text-center col-span-full">Team details coming soon.</p>'); return; }
            let html = '';
            snapshot.forEach(doc => {
                const member = doc.data();
                html += `<div class="text-center"><img src="${member.imageUrl}" alt="${member.name}" class="w-32 h-32 mx-auto rounded-full object-cover shadow-lg mb-4"><h3 class="font-bold text-lg">${member.name}</h3><p class="text-gray-500">${member.role}</p></div>`;
            });
            renderHtml(el, html);
        });

        document.addEventListener('DOMContentLoaded', () => {
            loadBookOfTheMonth();
            loadBlogPosts();
            loadEvents();
            loadReadingChallenge();
            loadSubmissions();
            loadTeam();
            document.getElementById('mobile-menu-btn').addEventListener('click', () => document.getElementById('mobile-menu').classList.toggle('hidden'));
        });
    </script>
</body>
</html>

